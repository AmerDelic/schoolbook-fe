{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet RegisterComponent = class RegisterComponent {\n  constructor(router, authService, toastr) {\n    this.router = router;\n    this.authService = authService;\n    this.toastr = toastr;\n    this.showLoading = false;\n    this.subscriptions = [];\n  }\n  ngOnDestroy() {\n    this.subscriptions.forEach(sub => {\n      sub.unsubscribe();\n    });\n  }\n  onRegister(user) {\n    this.showLoading = true;\n    const subscription = this.authService.register(user).subscribe({\n      next: response => {\n        this.router.navigateByUrl('/login');\n        this.toastr.info(`User \"' + ${response.username} + '\" registered`);\n      },\n      error: errorResponse => {\n        this.toastr.error(errorResponse.error.message);\n      }\n    });\n    if (subscription !== null) {\n      this.subscriptions.push(subscription);\n    }\n  }\n};\nRegisterComponent = __decorate([Component({\n  selector: 'app-register',\n  templateUrl: './register.component.html',\n  styleUrls: ['./register.component.less']\n})], RegisterComponent);\nexport { RegisterComponent };","map":{"version":3,"names":["Component","RegisterComponent","constructor","router","authService","toastr","showLoading","subscriptions","ngOnDestroy","forEach","sub","unsubscribe","onRegister","user","subscription","register","subscribe","next","response","navigateByUrl","info","username","error","errorResponse","message","push","__decorate","selector","templateUrl","styleUrls"],"sources":["/home/amer/AngularProjects/schoolbook/src/app/register/register.component.ts"],"sourcesContent":["import { Component, OnDestroy } from '@angular/core';\nimport { AuthenticationService } from '../service/authentication.service';\nimport { User } from '../model/user';\nimport { Router } from '@angular/router';\nimport { HttpResponse } from '@angular/common/http';\nimport { ToastrService } from 'ngx-toastr';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-register',\n  templateUrl: './register.component.html',\n  styleUrls: ['./register.component.less']\n})\nexport class RegisterComponent implements OnDestroy {\n  public showLoading: boolean = false;\n  private subscriptions: Subscription[] = [];\n\n  constructor(\n    private router: Router,\n    private authService: AuthenticationService,\n    private toastr: ToastrService\n  ){}\n  \n  ngOnDestroy(): void {\n    this.subscriptions.forEach(sub => {\n      sub.unsubscribe();\n    });\n  }\n\n  public onRegister(user: User): void {\n    this.showLoading = true;\n    const subscription = this.authService.register(user).subscribe(\n      {\n        next: (response: User) => {\n          this.router.navigateByUrl('/login');\n          this.toastr.info(`User \"' + ${response.username} + '\" registered`);\n        },\n        error: (errorResponse) => {\n          this.toastr.error(errorResponse.error.message);\n        }\n      }\n    );\n    if(subscription !== null) {\n      this.subscriptions.push(subscription);\n    }\n  }\n\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAmB,eAAe;AAapD,IAAaC,iBAAiB,GAA9B,MAAaA,iBAAiB;EAI5BC,YACUC,MAAc,EACdC,WAAkC,EAClCC,MAAqB;IAFrB,KAAAF,MAAM,GAANA,MAAM;IACN,KAAAC,WAAW,GAAXA,WAAW;IACX,KAAAC,MAAM,GAANA,MAAM;IANT,KAAAC,WAAW,GAAY,KAAK;IAC3B,KAAAC,aAAa,GAAmB,EAAE;EAMxC;EAEFC,WAAWA,CAAA;IACT,IAAI,CAACD,aAAa,CAACE,OAAO,CAACC,GAAG,IAAG;MAC/BA,GAAG,CAACC,WAAW,EAAE;IACnB,CAAC,CAAC;EACJ;EAEOC,UAAUA,CAACC,IAAU;IAC1B,IAAI,CAACP,WAAW,GAAG,IAAI;IACvB,MAAMQ,YAAY,GAAG,IAAI,CAACV,WAAW,CAACW,QAAQ,CAACF,IAAI,CAAC,CAACG,SAAS,CAC5D;MACEC,IAAI,EAAGC,QAAc,IAAI;QACvB,IAAI,CAACf,MAAM,CAACgB,aAAa,CAAC,QAAQ,CAAC;QACnC,IAAI,CAACd,MAAM,CAACe,IAAI,CAAC,aAAaF,QAAQ,CAACG,QAAQ,kBAAkB,CAAC;MACpE,CAAC;MACDC,KAAK,EAAGC,aAAa,IAAI;QACvB,IAAI,CAAClB,MAAM,CAACiB,KAAK,CAACC,aAAa,CAACD,KAAK,CAACE,OAAO,CAAC;MAChD;KACD,CACF;IACD,IAAGV,YAAY,KAAK,IAAI,EAAE;MACxB,IAAI,CAACP,aAAa,CAACkB,IAAI,CAACX,YAAY,CAAC;;EAEzC;CAED;AAlCYb,iBAAiB,GAAAyB,UAAA,EAL7B1B,SAAS,CAAC;EACT2B,QAAQ,EAAE,cAAc;EACxBC,WAAW,EAAE,2BAA2B;EACxCC,SAAS,EAAE,CAAC,2BAA2B;CACxC,CAAC,C,EACW5B,iBAAiB,CAkC7B;SAlCYA,iBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}