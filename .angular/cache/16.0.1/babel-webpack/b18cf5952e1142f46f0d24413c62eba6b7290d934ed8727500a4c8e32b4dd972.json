{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Injectable } from '@angular/core';\nimport { NotificationType } from '../enum/notification-type.enum';\nlet AuthenticationGuard = class AuthenticationGuard {\n  constructor(authService, router, notificationService) {\n    this.authService = authService;\n    this.router = router;\n    this.notificationService = notificationService;\n  }\n  canActivate(route, state) {\n    if (this.authService.isLoggedIn()) {\n      return true;\n    }\n    this.router.navigate(['/login']);\n    this.notificationService.notify(NotificationType.ERROR, `You need to login to access this page`);\n    return false;\n  }\n};\nAuthenticationGuard = __decorate([Injectable({\n  providedIn: 'root'\n})], AuthenticationGuard);\nexport { AuthenticationGuard };","map":{"version":3,"names":["Injectable","NotificationType","AuthenticationGuard","constructor","authService","router","notificationService","canActivate","route","state","isLoggedIn","navigate","notify","ERROR","__decorate","providedIn"],"sources":["/home/amer/AngularProjects/schoolbook/src/app/guard/authentication.guard.ts"],"sourcesContent":["import { ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot } from '@angular/router';\nimport { Injectable, inject } from '@angular/core';\nimport { AuthenticationService } from '../service/authentication.service';\nimport { NotificationService } from '../service/notification.service';\nimport { NotificationType } from '../enum/notification-type.enum';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthenticationGuard implements CanActivate {\n  constructor(\n    private authService: AuthenticationService,\n    private router: Router,\n    private notificationService: NotificationService\n  ) {}\n\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): boolean {\n    if (this.authService.isLoggedIn()) {\n      return true;\n    }\n    this.router.navigate(['/login']);\n    this.notificationService.notify(NotificationType.ERROR, `You need to login to access this page`)\n    return false;\n  }\n}\n"],"mappings":";AACA,SAASA,UAAU,QAAgB,eAAe;AAGlD,SAASC,gBAAgB,QAAQ,gCAAgC;AAKjE,IAAaC,mBAAmB,GAAhC,MAAaA,mBAAmB;EAC9BC,YACUC,WAAkC,EAClCC,MAAc,EACdC,mBAAwC;IAFxC,KAAAF,WAAW,GAAXA,WAAW;IACX,KAAAC,MAAM,GAANA,MAAM;IACN,KAAAC,mBAAmB,GAAnBA,mBAAmB;EAC1B;EAEHC,WAAWA,CAACC,KAA6B,EAAEC,KAA0B;IACnE,IAAI,IAAI,CAACL,WAAW,CAACM,UAAU,EAAE,EAAE;MACjC,OAAO,IAAI;;IAEb,IAAI,CAACL,MAAM,CAACM,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;IAChC,IAAI,CAACL,mBAAmB,CAACM,MAAM,CAACX,gBAAgB,CAACY,KAAK,EAAE,uCAAuC,CAAC;IAChG,OAAO,KAAK;EACd;CACD;AAfYX,mBAAmB,GAAAY,UAAA,EAH/Bd,UAAU,CAAC;EACVe,UAAU,EAAE;CACb,CAAC,C,EACWb,mBAAmB,CAe/B;SAfYA,mBAAmB"},"metadata":{},"sourceType":"module","externalDependencies":[]}